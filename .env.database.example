# Database Configuration Guide
# 
# This application supports multiple database types:
# - PostgreSQL (Supabase, Local PostgreSQL)
# - Azure SQL Server
# - Microsoft SQL Server

# ===========================================
# DATABASE CONFIGURATION (Choose ONE)
# ===========================================

# Option 1: PostgreSQL (Supabase) - Default
# -----------------------------------------
DATABASE_TYPE=postgresql
DATABASE_URL=postgresql://user:password@host:5432/database?schema=public

# Option 2: Azure SQL Server
# --------------------------
DATABASE_TYPE=azure-sql
DATABASE_URL=mssql://username:password@your-server.database.windows.net:1433/your-database?encrypt=true&trustServerCertificate=false
AZURE_SQL_CONNECTION_STRING=Server=tcp:your-server.database.windows.net,1433;Database=your-database;User ID=username;Password=password;Encrypt=yes;TrustServerCertificate=no;

# Option 3: Local Microsoft SQL Server
# ------------------------------------
DATABASE_TYPE=mssql
DATABASE_URL=mssql://username:password@localhost:1433/database

# ===========================================
# DATABASE POOL CONFIGURATION (Optional)
# ===========================================

# Maximum number of connections in pool (default: 10)
DB_POOL_MAX=10

# Idle timeout in seconds (default: 30)
DB_IDLE_TIMEOUT=30

# Connection timeout in seconds (default: 10)
DB_CONNECTION_TIMEOUT=10

# Enable SSL for database connection (default: false)
DB_SSL=false

# ===========================================
# EXAMPLES FOR DIFFERENT ENVIRONMENTS
# ===========================================

# Example: Supabase Production
# DATABASE_TYPE=postgresql
# DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres

# Example: Azure SQL Production
# DATABASE_TYPE=azure-sql
# DATABASE_URL=mssql://admin@unionclaims:YourPassword123!@unionclaims.database.windows.net:1433/unionclaims-db?encrypt=true
# AZURE_SQL_CONNECTION_STRING=Server=tcp:unionclaims.database.windows.net,1433;Database=unionclaims-db;User ID=admin@unionclaims;Password=YourPassword123!;Encrypt=yes;TrustServerCertificate=no;Connection Timeout=30;

# Example: Local Development (PostgreSQL)
# DATABASE_TYPE=postgresql
# DATABASE_URL=postgresql://postgres:postgres@localhost:5432/unionclaims_dev

# Example: Local Development (SQL Server)
# DATABASE_TYPE=mssql
# DATABASE_URL=mssql://sa:YourStrong@Passw0rd@localhost:1433/unionclaims_dev

# ===========================================
# MIGRATION NOTES
# ===========================================
# 
# When switching between database types:
# 
# 1. Update DATABASE_TYPE and DATABASE_URL
# 2. Run migrations: pnpm drizzle-kit push
# 3. Restart your application
# 
# PostgreSQL to Azure SQL:
# - Export data from PostgreSQL
# - Update environment variables
# - Run migrations on Azure SQL
# - Import data to Azure SQL
# 
# Azure SQL to PostgreSQL:
# - Export data from Azure SQL
# - Update environment variables
# - Run migrations on PostgreSQL
# - Import data to PostgreSQL
